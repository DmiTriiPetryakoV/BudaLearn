{
  "slug": "css-animations-transitions",
  "title": "CSS Анимации и Трансформации",
  "description": "Освойте создание плавных анимаций, трансформаций и переходов для оживления веб-интерфейсов.",
  "difficulty": "intermediate",
  "duration": 55,
  "time":10,
  "theory": "## Введение в CSS анимации\n\nCSS анимации позволяют создавать плавные переходы между состояниями элементов без использования JavaScript. Это мощный инструмент для улучшения пользовательского опыта.\n\n## CSS Transitions (Переходы)\n\n### Базовый синтаксис\n```css\n.element {\n    transition-property: property; /* Какое свойство анимировать */\n    transition-duration: 0.3s;    /* Длительность анимации */\n    transition-timing-function: ease; /* Функция времени */\n    transition-delay: 0s;         /* Задержка перед началом */\n}\n\n/* Краткая запись */\n.element {\n    transition: property duration timing-function delay;\n}\n```\n\n### Пример перехода\n```css\n.button {\n    background-color: blue;\n    transition: background-color 0.3s ease, transform 0.2s;\n}\n\n.button:hover {\n    background-color: darkblue;\n    transform: scale(1.05);\n}\n```\n\n### Анимируемые свойства\n```css\n.element {\n    /* Цвета */\n    transition: color 0.3s, background-color 0.3s;\n    \n    /* Размеры */\n    transition: width 0.3s, height 0.3s, padding 0.3s;\n    \n    /* Позиционирование */\n    transition: margin 0.3s, top 0.3s, left 0.3s;\n    \n    /* Трансформации */\n    transition: transform 0.3s;\n    \n    /* Прозрачность */\n    transition: opacity 0.3s;\n    \n    /* Специфические */\n    transition: box-shadow 0.3s, border-radius 0.3s;\n}\n```\n\n### Функции времени (timing functions)\n```css\n.element {\n    /* Стандартные функции */\n    transition-timing-function: ease;           /* По умолчанию */\n    transition-timing-function: linear;        /* Линейная */\n    transition-timing-function: ease-in;       /* Медленный старт */\n    transition-timing-function: ease-out;      /* Медленный конец */\n    transition-timing-function: ease-in-out;   /* Медленные старт и конец */\n    \n    /* Кубические Безье */\n    transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1); /* ease */\n    transition-timing-function: cubic-bezier(0.42, 0, 1, 1);      /* ease-in */\n    transition-timing-function: cubic-bezier(0, 0, 0.58, 1);      /* ease-out */\n    \n    /* Ступенчатые функции */\n    transition-timing-function: steps(4, jump-start);\n    transition-timing-function: steps(10, jump-end);\n}\n```\n\n### Multiple transitions\n```css\n.element {\n    transition: \n        opacity 0.3s ease,\n        transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275),\n        background-color 0.2s linear 0.1s;\n}\n```\n\n## CSS Transforms (Трансформации)\n\n### 2D трансформации\n\n#### translate() - перемещение\n```css\n.element {\n    transform: translateX(50px);   /* По оси X */\n    transform: translateY(-20px);  /* По оси Y */\n    transform: translate(50px, 20px); /* X и Y */\n}\n```\n\n#### scale() - масштабирование\n```css\n.element {\n    transform: scaleX(1.5);    /* По оси X */\n    transform: scaleY(0.5);    /* По оси Y */\n    transform: scale(1.2);     /* Одинаково по X и Y */\n    transform: scale(1.5, 0.8); /* Разные значения */\n}\n```\n\n#### rotate() - вращение\n```css\n.element {\n    transform: rotate(45deg);      /* 45 градусов */\n    transform: rotate(1turn);      /* Полный оборот */\n    transform: rotate(3.1416rad);  /* В радианах */\n}\n```\n\n#### skew() - наклон\n```css\n.element {\n    transform: skewX(15deg);    /* Наклон по X */\n    transform: skewY(-10deg);   /* Наклон по Y */\n    transform: skew(15deg, -10deg);\n}\n```\n\n### Множественные трансформации\n```css\n.element {\n    transform: translate(50px, 20px) rotate(45deg) scale(1.2);\n    /* Порядок важен! */\n}\n```\n\n### transform-origin - точка трансформации\n```css\n.element {\n    transform-origin: center center; /* По умолчанию */\n    transform-origin: top left;\n    transform-origin: 100% 100%;\n    transform-origin: 50px 20px;     /* Абсолютные значения */\n    \n    /* Для rotate */\n    transform-origin: bottom right;\n    transform: rotate(45deg);\n}\n```\n\n### 3D трансформации\n\n#### perspective - перспектива\n```css\n.container {\n    perspective: 1000px; /* Глубина сцены */\n}\n\n.element {\n    transform: perspective(500px) rotateY(45deg);\n}\n```\n\n#### 3D вращение\n```css\n.element {\n    transform: rotateX(45deg);  /* Вокруг оси X */\n    transform: rotateY(30deg);  /* Вокруг оси Y */\n    transform: rotateZ(15deg);  /* Вокруг оси Z */\n    transform: rotate3d(1, 1, 0, 45deg); /* Пользовательская ось */\n}\n```\n\n#### 3D перемещение\n```css\n.element {\n    transform: translateZ(100px);\n    transform: translate3d(50px, 20px, 100px);\n}\n```\n\n#### transform-style и backface-visibility\n```css\n.container {\n    transform-style: preserve-3d; /* Сохраняет 3D контекст для детей */\n}\n\n.element {\n    backface-visibility: hidden; /* Скрывает обратную сторону */\n}\n```\n\n## CSS Animations (Анимации)\n\n### Определение анимации\n```css\n@keyframes slide-in {\n    from {\n        transform: translateX(-100%);\n        opacity: 0;\n    }\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}\n\n/* Или с процентами */\n@keyframes bounce {\n    0%, 100% {\n        transform: translateY(0);\n    }\n    50% {\n        transform: translateY(-30px);\n    }\n}\n```\n\n### Применение анимации\n```css\n.element {\n    animation-name: slide-in;\n    animation-duration: 0.5s;\n    animation-timing-function: ease-out;\n    animation-delay: 0.2s;\n    animation-iteration-count: 1;\n    animation-direction: normal;\n    animation-fill-mode: forwards;\n    animation-play-state: running;\n}\n\n/* Краткая запись */\n.element {\n    animation: slide-in 0.5s ease-out 0.2s 1 normal forwards running;\n}\n```\n\n### Свойства анимации\n\n#### animation-iteration-count\n```css\n.element {\n    animation-iteration-count: 1;      /* Один раз */\n    animation-iteration-count: 3;      /* Три раза */\n    animation-iteration-count: infinite; /* Бесконечно */\n}\n```\n\n#### animation-direction\n```css\n.element {\n    animation-direction: normal;       /* От from к to */\n    animation-direction: reverse;      /* От to к from */\n    animation-direction: alternate;    /* Чередование normal/reverse */\n    animation-direction: alternate-reverse; /* Чередование reverse/normal */\n}\n```\n\n#### animation-fill-mode\n```css\n.element {\n    animation-fill-mode: none;         /* Возврат к исходному состоянию */\n    animation-fill-mode: forwards;     /* Остается в конечном состоянии */\n    animation-fill-mode: backwards;    /* Применяет начальный стиль до начала */\n    animation-fill-mode: both;         /* forwards + backwards */\n}\n```\n\n#### animation-play-state\n```css\n.element {\n    animation-play-state: running;     /* Анимация проигрывается */\n    animation-play-state: paused;      /* Анимация на паузе */\n}\n\n.element:hover {\n    animation-play-state: paused;\n}\n```\n\n### Множественные анимации\n```css\n.element {\n    animation: \n        slide-in 0.5s ease-out,\n        fade-in 0.8s ease-in 0.3s,\n        bounce 1s infinite;\n}\n```\n\n## Практические примеры\n\n### Hover эффекты\n```css\n.card {\n    transition: all 0.3s ease;\n}\n\n.card:hover {\n    transform: translateY(-10px) scale(1.02);\n    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n}\n```\n\n### Loading анимации\n```css\n@keyframes spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n.spinner {\n    animation: spin 1s linear infinite;\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #3498db;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n}\n```\n\n### Fade in/out\n```css\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        visibility: hidden;\n    }\n    to {\n        opacity: 1;\n        visibility: visible;\n    }\n}\n\n@keyframes fadeOut {\n    from {\n        opacity: 1;\n        visibility: visible;\n    }\n    to {\n        opacity: 0;\n        visibility: hidden;\n    }\n}\n\n.modal {\n    animation: fadeIn 0.3s ease forwards;\n}\n\n.modal.hiding {\n    animation: fadeOut 0.3s ease forwards;\n}\n```\n\n### Slide меню\n```css\n@keyframes slideInRight {\n    from {\n        transform: translateX(100%);\n    }\n    to {\n        transform: translateX(0);\n    }\n}\n\n@keyframes slideOutRight {\n    from {\n        transform: translateX(0);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n\n.mobile-menu {\n    animation: slideInRight 0.3s ease forwards;\n}\n\n.mobile-menu.closing {\n    animation: slideOutRight 0.3s ease forwards;\n}\n```\n\n### Пульсация\n```css\n@keyframes pulse {\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(1.1);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n\n.pulse {\n    animation: pulse 2s infinite;\n}\n```\n\n### Bounce эффект\n```css\n@keyframes bounce {\n    0%, 20%, 50%, 80%, 100% {\n        transform: translateY(0);\n    }\n    40% {\n        transform: translateY(-30px);\n    }\n    60% {\n        transform: translateY(-15px);\n    }\n}\n\n.bounce {\n    animation: bounce 2s infinite;\n}\n```\n\n### Shake эффект\n```css\n@keyframes shake {\n    0%, 100% {\n        transform: translateX(0);\n    }\n    10%, 30%, 50%, 70%, 90% {\n        transform: translateX(-5px);\n    }\n    20%, 40%, 60%, 80% {\n        transform: translateX(5px);\n    }\n}\n\n.shake {\n    animation: shake 0.5s;\n}\n```\n\n### Flip карточка\n```css\n.card {\n    perspective: 1000px;\n}\n\n.card-inner {\n    transition: transform 0.8s;\n    transform-style: preserve-3d;\n}\n\n.card:hover .card-inner {\n    transform: rotateY(180deg);\n}\n\n.card-front, .card-back {\n    backface-visibility: hidden;\n}\n\n.card-back {\n    transform: rotateY(180deg);\n}\n```\n\n## Производительность анимаций\n\n### Hardware acceleration\n```css\n.element {\n    /* Свойства, использующие GPU */\n    transform: translateZ(0);\n    will-change: transform;\n    backface-visibility: hidden;\n}\n```\n\n### Оптимизация свойств\n```css\n/* Быстрые (лучше для анимаций) */\n.element {\n    transform: translateX(100px);\n    opacity: 0.5;\n}\n\n/* Медленные (избегайте анимации) */\n.element {\n    width: 100px;      /* Вызывает reflow */\n    height: 100px;\n    margin: 10px;\n    padding: 10px;\n}\n```\n\n### will-change\n```css\n.element {\n    will-change: transform, opacity;\n    /* Подсказка браузеру для оптимизации */\n}\n\n/* Используйте осторожно */\n.element:hover {\n    will-change: transform;\n}\n\n.element:active {\n    transform: scale(1.1);\n}\n```\n\n## Доступность анимаций\n\n### prefers-reduced-motion\n```css\n/* Учет предпочтений пользователя */\n@media (prefers-reduced-motion: reduce) {\n    * {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n        scroll-behavior: auto !important;\n    }\n}\n\n/* Альтернативные стили */\n.element {\n    transition: transform 0.3s ease;\n}\n\n@media (prefers-reduced-motion: reduce) {\n    .element {\n        transition: none;\n    }\n}\n```\n\n### Плавный скролл\n```css\nhtml {\n    scroll-behavior: smooth;\n}\n\n@media (prefers-reduced-motion: reduce) {\n    html {\n        scroll-behavior: auto;\n    }\n}\n```\n\n## Трансформации и layout\n\n### transform и position: fixed\n```css\n.modal {\n    position: fixed;\n    transform: translate(-50%, -50%);\n    top: 50%;\n    left: 50%;\n    /* transform создает новый контекст позиционирования */\n}\n```\n\n### transform и overflow\n```css\n.parent {\n    overflow: hidden;\n}\n\n.child {\n    transform: translateY(100%);\n    /* Трансформации не влияют на overflow родителя */\n}\n```\n\n## Современные техники\n\n### CSS переменные в анимациях\n```css\n:root {\n    --animation-duration: 0.3s;\n    --primary-color: #3498db;\n}\n\n.button {\n    transition: background-color var(--animation-duration) ease;\n}\n\n.button:hover {\n    background-color: var(--primary-color);\n}\n```\n\n### Анимации с calc()\n```css\n@keyframes move {\n    0% {\n        transform: translateX(calc(0% - 10px));\n    }\n    100% {\n        transform: translateX(calc(100% - 10px));\n    }\n}\n```\n\n### Анимации масок (clip-path)\n```css\n@keyframes reveal {\n    from {\n        clip-path: circle(0% at 50% 50%);\n    }\n    to {\n        clip-path: circle(100% at 50% 50%);\n    }\n}\n\n.element {\n    animation: reveal 1s ease forwards;\n}\n```\n\n### Анимации фильтров\n```css\n.image {\n    transition: filter 0.3s ease;\n}\n\n.image:hover {\n    filter: blur(2px) brightness(0.8);\n}\n\n@keyframes glitch {\n    0% {\n        filter: hue-rotate(0deg);\n    }\n    100% {\n        filter: hue-rotate(360deg);\n    }\n}\n```\n\n## Интерактивные анимации\n\n### Анимации по скроллу\n```css\n/* Используется вместе с JavaScript */\n.element {\n    opacity: 0;\n    transform: translateY(50px);\n    transition: opacity 0.5s ease, transform 0.5s ease;\n}\n\n.element.visible {\n    opacity: 1;\n    transform: translateY(0);\n}\n```\n\n### Анимации по checkbox\n```css\n.toggle {\n    display: none;\n}\n\n.menu {\n    max-height: 0;\n    overflow: hidden;\n    transition: max-height 0.3s ease;\n}\n\n.toggle:checked ~ .menu {\n    max-height: 500px;\n}\n```\n\n## Отладка анимаций\n\n### DevTools для анимаций\n- Timeline для анализа производительности\n- Animation инспектор\n- FPS монитор\n\n### Консольные команды\n```javascript\n// Пауза всех анимаций\ndocument.body.style.animationPlayState = 'paused';\n\n// Воспроизведение\ndocument.body.style.animationPlayState = 'running';\n```\n\n## Лучшие практики\n\n### 1. Используйте transform и opacity для плавности\n\n### 2. Избегайте анимации свойств, вызывающих reflow\n\n### 3. Используйте will-change осторожно\n\n### 4. Учитывайте prefers-reduced-motion\n\n### 5. Оптимизируйте duration и timing functions\n\n### 6. Тестируйте на мобильных устройствах\n\n### 7. Используйте hardware acceleration\n\n### 8. Документируйте сложные анимации\n\n## Распространенные ошибки\n\n### Ошибка 1: Анимация неподходящих свойств\n```css\n/* Плохо - вызывает reflow */\n.element {\n    transition: width 0.3s;\n}\n\n/* Хорошо */\n.element {\n    transition: transform 0.3s;\n}\n```\n\n### Ошибка 2: Забытый transform-origin\n```css\n.element {\n    transform: rotate(45deg);\n    /* Вращается вокруг центра по умолчанию */\n}\n```\n\n### Ошибка 3: Конфликт transition и animation\n```css\n.element {\n    transition: transform 0.3s;\n    animation: bounce 1s infinite;\n    /* Может привести к неожиданному поведению */\n}\n```\n\n## Интеграция с JavaScript\n\n### classList для управления анимациями\n```javascript\n// Добавление класса с анимацией\nelement.classList.add('animate');\n\n// Удаление после завершения\nelement.addEventListener('animationend', () => {\n    element.classList.remove('animate');\n});\n```\n\n### CSS переменные из JS\n```javascript\n// Установка переменной\nelement.style.setProperty('--rotation', '45deg');\n\n// CSS\n.element {\n    transform: rotate(var(--rotation));\n    transition: transform 0.3s;\n}\n```\n\n## Заключение\n\nCSS анимации и трансформации — мощные инструменты для создания интерактивных и привлекательных интерфейсов. При правильном использовании они могут значительно улучшить пользовательский опыт.\n\nКлючевые моменты:\n- Используйте transitions для простых изменений состояния\n- Используйте animations для сложных последовательностей\n- Отдавайте предпочтение transform и opacity для производительности\n- Всегда учитывайте доступность и пользовательские предпочтения\n- Тестируйте производительность на целевых устройствах\n\nПрактикуйтесь, экспериментируйте с timing functions и создавайте уникальные, плавные анимации, которые работают на всех устройствах.",
  
  "points": [
    "CSS Transitions: основы и синтаксис",
    "Timing functions и кривые Безье",
    "2D трансформации: translate, scale, rotate, skew",
    "3D трансформации и perspective",
    "CSS Animations: @keyframes и свойства",
    "Практические примеры анимаций",
    "Производительность и hardware acceleration",
    "Доступность: prefers-reduced-motion",
    "Трансформации и layout взаимодействие",
    "Современные техники и фильтры",
    "Интерактивные анимации",
    "Отладка и инструменты разработчика",
    "Лучшие практики и распространенные ошибки",
    "Интеграция с JavaScript"
  ],
  
  "lesson": {
    "slug": "performance-animations",
    "title": "Производительные CSS анимации"
  }
}