{
  "slug": "events-handlers",
  "title": "События и обработчики в JavaScript",
  "description": "Изучите систему событий в браузере, создание обработчиков событий и их практическое применение.",
  "difficulty": "intermediate",
  "duration": 35,
    "time":10,
  "theory": "# События и обработчики в JavaScript\n\n## Введение в систему событий\n\nСобытия — это ключевой механизм взаимодействия пользователя с веб-страницей. JavaScript использует событийно-ориентированную модель программирования, где код выполняется в ответ на различные действия пользователя или изменения состояния браузера.\n\n## Типы событий\n\n### Основные категории событий\n\n1. **События мыши** — взаимодействие с мышью (click, mousemove, mouseover)\n2. **События клавиатуры** — нажатие клавиш (keydown, keyup)\n3. **События форм** — работа с элементами форм (submit, change, focus)\n4. **События окна** — загрузка и изменение размеров окна (load, resize, scroll)\n5. **События медиа** — работа с аудио и видео (play, pause)\n6. **События касания** — для мобильных устройств (touchstart, touchmove)\n\n## Создание обработчиков событий\n\n### Основные способы\n\n#### 1. HTML-атрибуты (не рекомендуется)\n```html\n<button onclick=\"alert('Клик!')\">Кнопка</button>\n```\n\n#### 2. DOM-свойства\n```javascript\nbutton.onclick = function() {\n    alert('Клик!');\n};\n```\n\n#### 3. addEventListener (рекомендуемый способ)\n```javascript\nbutton.addEventListener('click', function() {\n    alert('Клик!');\n});\n\n// С именованной функцией\nfunction handleClick() {\n    alert('Клик!');\n}\nbutton.addEventListener('click', handleClick);\n```\n\n**Преимущества addEventListener:**\n- Можно добавлять несколько обработчиков на одно событие\n- Поддерживает фазу погружения (capturing)\n- Легко удалять обработчики\n- Дополнительные параметры (once, passive)\n\n## Объект события (Event)\n\nКаждое событие создает объект Event, содержащий информацию о событии:\n\n```javascript\nelement.addEventListener('click', function(event) {\n    console.log(event.type);        // тип события ('click')\n    console.log(event.target);      // элемент, на котором произошло событие\n    console.log(event.currentTarget); // элемент с обработчиком\n    \n    // Для событий мыши\n    console.log(event.clientX, event.clientY); // координаты мыши\n    \n    // Для событий клавиатуры\n    console.log(event.key);         // нажатая клавиша\n    \n    // Методы управления\n    event.preventDefault();         // отмена стандартного действия\n    event.stopPropagation();        // остановка распространения\n});\n```\n\n## Распространение событий\n\n### Три фазы распространения:\n\n1. **Фаза погружения (Capturing)** — событие движется сверху вниз\n2. **Целевая фаза (Target)** — событие достигло целевого элемента\n3. **Фаза всплытия (Bubbling)** — событие движется снизу вверх\n\n```html\n<div id=\"parent\">\n    <button id=\"child\">Кнопка</button>\n</div>\n\n<script>\nparent.addEventListener('click', () => console.log('Родитель (capturing)'), true);\nparent.addEventListener('click', () => console.log('Родитель (bubbling)'));\nchild.addEventListener('click', () => console.log('Ребенок'));\n</script>\n```\n\n**При клике на кнопку:**\n1. Родитель (capturing)\n2. Ребенок\n3. Родитель (bubbling)\n\n## Делегирование событий\n\nЭффективный подход для работы с множеством элементов:\n\n```javascript\n// Вместо добавления обработчика к каждому элементу\ndocument.addEventListener('click', function(event) {\n    // Проверяем, кликнули ли на элемент с классом 'item'\n    if (event.target.matches('.item')) {\n        console.log('Клик на элементе:', event.target.textContent);\n    }\n});\n```\n\n**Преимущества:**\n- Работает с динамически создаваемыми элементами\n- Меньше обработчиков = лучше производительность\n- Проще в управлении\n\n## Управление обработчиками\n\n### Удаление обработчиков\n\n```javascript\n// Функция-обработчик\nfunction handleClick() {\n    console.log('Клик!');\n}\n\n// Добавление обработчика\nbutton.addEventListener('click', handleClick);\n\n// Удаление обработчика (важно использовать ту же функцию)\nbutton.removeEventListener('click', handleClick);\n```\n\n### Одноразовые обработчики\n\n```javascript\n// Вариант 1: параметр once\nbutton.addEventListener('click', function() {\n    console.log('Сработает один раз');\n}, { once: true });\n\n// Вариант 2: ручное удаление\nfunction oneTimeHandler() {\n    console.log('Сработает один раз');\n    button.removeEventListener('click', oneTimeHandler);\n}\nbutton.addEventListener('click', oneTimeHandler);\n```\n\n## Отмена стандартного поведения\n\nНекоторые события имеют стандартное поведение браузера, которое можно отменить:\n\n```javascript\n// Отмена отправки формы\nform.addEventListener('submit', function(event) {\n    event.preventDefault();\n    // ваша логика обработки данных\n});\n\n// Отмена перехода по ссылке\nlink.addEventListener('click', function(event) {\n    event.preventDefault();\n    // ваша логика\n});\n```\n\n## Пользовательские события\n\nСоздание и генерация собственных событий:\n\n```javascript\n// Создание события\nconst customEvent = new CustomEvent('myEvent', {\n    detail: { message: 'Привет!' },  // пользовательские данные\n    bubbles: true                   // всплывает\n});\n\n// Обработка события\nelement.addEventListener('myEvent', function(event) {\n    console.log(event.detail.message); // 'Привет!'\n});\n\n// Генерация события\nelement.dispatchEvent(customEvent);\n```\n\n## Пассивные обработчики\n\nОптимизация для событий скролла и касания:\n\n```javascript\n// Обычный обработчик (может блокировать скролл)\nwindow.addEventListener('scroll', function(event) {\n    // Браузер ждет выполнения кода\n});\n\n// Пассивный обработчик (не блокирует скролл)\nwindow.addEventListener('scroll', function(event) {\n    // Браузер выполняет скролл параллельно\n}, { passive: true });\n```\n\n## События клавиатуры\n\n### Основные свойства\n\n```javascript\ndocument.addEventListener('keydown', function(event) {\n    console.log('Клавиша:', event.key);       // символ ('a', 'Enter')\n    console.log('Код:', event.code);          // физическая клавиша ('KeyA')\n    console.log('Ctrl:', event.ctrlKey);      // нажат Ctrl\n});\n```\n\n### Проверка конкретных клавиш\n\n```javascript\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape') {\n        console.log('Нажат Escape');\n    }\n    \n    if (event.ctrlKey && event.key === 's') {\n        event.preventDefault(); // отмена сохранения страницы\n        console.log('Ctrl+S');\n    }\n});\n```\n\n## События мыши\n\n### Координаты и кнопки\n\n```javascript\nelement.addEventListener('click', function(event) {\n    // Координаты относительно окна\n    console.log('Координаты:', event.clientX, event.clientY);\n    \n    // Координаты относительно элемента\n    console.log('В элементе:', event.offsetX, event.offsetY);\n    \n    // Номер кнопки мыши\n    console.log('Кнопка:', event.button); // 0-левая, 1-средняя, 2-правая\n});\n```\n\n## Лучшие практики\n\n### 1. Используйте делегирование событий\nВместо множества обработчиков — один на родительском элементе.\n\n### 2. Удаляйте ненужные обработчики\nОсобенно в одностраничных приложениях (SPA).\n\n### 3. Используйте passive для событий скролла\nУлучшает производительность на мобильных устройствах.\n\n### 4. Избегайте inline-обработчиков в HTML\nРазделяйте HTML и JavaScript.\n\n### 5. Проверяйте поддержку событий\n```javascript\nif ('ontouchstart' in window) {\n    // Устройство поддерживает касания\n} else {\n    // Только мышь\n}\n```\n\n## Заключение\n\nСобытия — это фундаментальный механизм для создания интерактивных веб-приложений. Понимание их работы, способов обработки и распространения позволяет создавать отзывчивые интерфейсы.\n\nКлючевые концепции:\n- Использование `addEventListener` вместо старых методов\n- Делегирование событий для оптимизации производительности\n- Правильное управление жизненным циклом обработчиков\n- Работа с объектом события и его свойствами\n- Следование лучшим практикам для создания качественных приложений\n\nОвладение системой событий открывает возможности для создания сложных интерактивных интерфейсов, обработки пользовательского ввода и создания динамического поведения страниц.\n",
  
  "points": [
    "Типы событий в JavaScript",
    "Способы добавления обработчиков событий",
    "Объект Event и его свойства",
    "Распространение событий: всплытие и погружение",
    "Делегирование событий для оптимизации",
    "Управление обработчиками: добавление и удаление",
    "Отмена стандартного поведения событий",
    "Пользовательские события",
    "Пассивные обработчики для производительности",
    "Лучшие практики работы с событиями"
  ],
  
  "lesson": {
    "slug": "async",
    "title": "Асинхронное программирование"
  }
}