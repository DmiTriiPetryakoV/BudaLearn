import{_ as C,o as s,c as o,i as E,b as S,j as M,s as P,k,h as R,a as l,t as h,F as f,g as x,r as i,u as A,l as F,m as I,p as j,q as z,x as D}from"./index-mhir7P0o.js";import{l as J}from"./lessonsApi-jzLH2AXw.js";const L={__name:"ButtonMain",emits:["click"],setup(b){return(c,a)=>(s(),o("button",{class:"my-button",onClick:a[0]||(a[0]=T=>c.$emit("click"))},[E(c.$slots,"default",{},()=>[a[1]||(a[1]=S("ÐšÐ½Ð¾Ð¿ÐºÐ°",-1))])]))}},O=C(L,[["__scopeId","data-v-c064cf62"]]),W={class:"main"},G={class:"box-button"},K={key:0,class:"loading"},Q={key:1,class:"error"},U={__name:"TechTree",props:{techSlug:{type:String,required:!0},techName:{type:String,required:!0}},setup(b){const c=M(),a=A(),{name:T}=P(c);F();const d=i([]),X=i(!1),u=i(null),m=b,p=async()=>{console.log("ðŸ”„ ÐÐ°Ñ‡Ð¸Ð½Ð°ÑŽ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ñ‚ÐµÐ¼..."),X.value=!0,u.value=null;try{const e=await J.getTopics(m.techSlug);d.value=e}catch(e){u.value="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº Ñ‚ÐµÐ¼: "+e.message}finally{X.value=!1,console.log("âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°. Topics:",d.value.length)}},w=e=>{console.log("ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ‚ÐµÐ¼Ñƒ:",e),a.push(`/${m.techSlug}/${e}`)};k(()=>m.techSlug,(e,t)=>{e!==t&&(console.log(`ðŸ”„ Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð°ÑÑŒ: ${t} â†’ ${e}`),p())});const y=i([]),$=[{startX:-0,endX:35,bend1:-50,bend2:40},{startX:10,endX:-25,bend1:-50,bend2:20},{startX:-25,endX:-10,bend1:30,bend2:-40},{startX:15,endX:30,bend1:-20,bend2:50},{startX:15,endX:35,bend1:-55,bend2:40},{startX:-25,endX:40,bend1:-24,bend2:20},{startX:15,endX:25,bend1:-60,bend2:60},{startX:35,endX:35,bend1:-30,bend2:40},{startX:5,endX:40,bend1:-60,bend2:24},{startX:40,endX:45,bend1:-34,bend2:28},{startX:5,endX:60,bend1:-35,bend2:42},{startX:10,endX:20,bend1:-40,bend2:35},{startX:15,endX:40,bend1:-30,bend2:62},{startX:15,endX:45,bend1:-29,bend2:30},{startX:15,endX:20,bend1:-24,bend2:55}];function N(e,t,n,r){const g=t/2,_=g+r.startX,v=g+r.endX,B=r.bend1,V=r.bend2,q=getComputedStyle(document.documentElement).getPropertyValue("--Primary").trim();e.beginPath(),e.moveTo(_,0),e.bezierCurveTo(_+B,n*.3,v+V,n*.7,v,n),e.strokeStyle=q,e.lineWidth=1.5,e.lineCap="round",e.lineJoin="round",e.stroke()}return R(()=>{console.log("ðŸ“Œ ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÑÐ¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½, Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽ Ñ‚ÐµÐ¼Ñ‹..."),p()}),k(d,async()=>{await D(),y.value.forEach((e,t)=>{const n=e.getContext("2d");N(n,e.width,e.height,$[t])})}),(e,t)=>(s(),o("div",W,[l("div",G,[l("h1",null,"Ð˜Ð·ÑƒÑ‡Ð°ÐµÐ¼ "+h(b.techName),1),X.value?(s(),o("div",K,[...t[0]||(t[0]=[l("p",null,"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚ÐµÐ¼...",-1)])])):u.value?(s(),o("div",Q,[l("p",null,h(u.value),1),l("button",{onClick:p},"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°")])):(s(!0),o(f,{key:2},x(d.value,(n,r)=>(s(),o(f,{key:n.slug},[I(O,{onClick:g=>w(n.slug)},{default:j(()=>[S(h(n.title),1)]),_:2},1032,["onClick"]),r<d.value.length-1?(s(),o("canvas",{key:0,ref_for:!0,ref_key:"drawCanvas",ref:y,width:"180",height:"50",style:{display:"block",margin:"0 auto"}},null,512)):z("",!0)],64))),128))])]))}},H=C(U,[["__scopeId","data-v-6bda4127"]]);export{H as default};
