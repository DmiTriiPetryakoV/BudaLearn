import{_ as w,o,c as s,f as P,b as T,u as R,s as q,g as C,h as A,a as l,t as y,F as S,i as F,r as b,j as I,k as L,l as j,m as z,n as D,p as G}from"./index-CMxqogrW.js";import{l as J}from"./lessonsApi-jzLH2AXw.js";const O={__name:"ButtonMain",emits:["click"],setup(X){return(u,a)=>(o(),s("button",{class:"my-button",onClick:a[0]||(a[0]=$=>u.$emit("click"))},[P(u.$slots,"default",{},()=>[a[1]||(a[1]=T("ÐšÐ½Ð¾Ð¿ÐºÐ°",-1))])]))}},W=w(O,[["__scopeId","data-v-c064cf62"]]),K={class:"main"},Q={class:"box-button"},U={key:0,class:"loading"},Y={key:1,class:"error"},Z={__name:"TechTree",props:{techSlug:{type:String,required:!0},techName:{type:String,required:!0}},setup(X){const u=R(),a=I(),{name:$}=q(u);L();const d=b([]),m=b(!1),c=b(null),p=X,g=async()=>{console.log("ðŸ”„ ÐÐ°Ñ‡Ð¸Ð½Ð°ÑŽ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ñ‚ÐµÐ¼..."),m.value=!0,c.value=null;try{const e=await J.getTopics(p.techSlug);d.value=e}catch(e){c.value="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº Ñ‚ÐµÐ¼: "+e.message}finally{m.value=!1,console.log("âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°. Topics:",d.value.length)}},B=e=>{console.log("ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ‚ÐµÐ¼Ñƒ:",e),a.push(`/${p.techSlug}/${e}`)};C(()=>p.techSlug,(e,n)=>{e!==n&&(console.log(`ðŸ”„ Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð°ÑÑŒ: ${n} â†’ ${e}`),g())});const _=b([]),N=[{startX:-0,endX:35,bend1:-50,bend2:40},{startX:10,endX:-25,bend1:-50,bend2:20},{startX:-25,endX:-10,bend1:30,bend2:-40},{startX:15,endX:30,bend1:-20,bend2:50},{startX:15,endX:35,bend1:-55,bend2:40},{startX:-25,endX:40,bend1:-24,bend2:20},{startX:15,endX:25,bend1:-60,bend2:60},{startX:35,endX:35,bend1:-30,bend2:40},{startX:5,endX:40,bend1:-60,bend2:24},{startX:40,endX:45,bend1:-34,bend2:28},{startX:5,endX:60,bend1:-35,bend2:42},{startX:10,endX:20,bend1:-40,bend2:35},{startX:15,endX:40,bend1:-30,bend2:62},{startX:15,endX:45,bend1:-29,bend2:30},{startX:15,endX:20,bend1:-24,bend2:55}];function V(e,n,t,r){const h=n/2,v=h+r.startX,k=h+r.endX,E=r.bend1,M=r.bend2,f=getComputedStyle(document.documentElement).getPropertyValue("--Primary").trim(),i=e.createLinearGradient(0,0,0,t);i.addColorStop(0,"rgba(255,255,255,0)"),i.addColorStop(.5,f),i.addColorStop(1,"rgba(255,255,255,0.4)"),e.shadowColor=f,e.shadowBlur=8,e.beginPath(),e.moveTo(v,0),e.bezierCurveTo(v+E,t*.3,k+M,t*.7,k,t),e.strokeStyle=i,e.lineWidth=1.5,e.lineCap="round",e.lineJoin="round",e.stroke(),e.shadowBlur=0}return A(()=>{console.log("ðŸ“Œ ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÑÐ¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½, Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽ Ñ‚ÐµÐ¼Ñ‹..."),g()}),C(d,async()=>{await G(),_.value.forEach((e,n)=>{const t=e.getContext("2d");V(t,e.width,e.height,N[n])})}),(e,n)=>(o(),s("div",K,[l("div",Q,[l("h1",null,"Ð˜Ð·ÑƒÑ‡Ð°ÐµÐ¼ "+y(X.techName),1),m.value?(o(),s("div",U,[...n[0]||(n[0]=[l("p",null,"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚ÐµÐ¼...",-1)])])):c.value?(o(),s("div",Y,[l("p",null,y(c.value),1),l("button",{onClick:g},"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°")])):(o(!0),s(S,{key:2},F(d.value,(t,r)=>(o(),s(S,{key:t.slug},[j(W,{onClick:h=>B(t.slug)},{default:z(()=>[T(y(t.title),1)]),_:2},1032,["onClick"]),r<d.value.length-1?(o(),s("canvas",{key:0,ref_for:!0,ref_key:"drawCanvas",ref:_,width:"180",height:"50",style:{display:"block",margin:"0 auto"}},null,512)):D("",!0)],64))),128))])]))}},ee=w(Z,[["__scopeId","data-v-58b68ed6"]]);export{ee as default};
